!function(){"use strict";var e=window.wp.element,t=window.React;function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},n.apply(this,arguments)}var l=window.wp.components;const{__:__}=wp.i18n;function o(t){let{fontFamily:n,fontWeight:o,fontStyle:a,demoText:c,deleteFontFace:r,shouldBeRemoved:m}=t;const i={fontFamily:n,fontStyle:a,fontWeight:o?String(o).split(" ")[0]:"normal"};return m?null:(0,e.createElement)("tr",{className:"font-face"},(0,e.createElement)("td",null,a),(0,e.createElement)("td",null,o),(0,e.createElement)("td",{className:"demo-cell"},(0,e.createElement)("p",{style:i},c)),r&&(0,e.createElement)("td",null,(0,e.createElement)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:r},__("Remove","create-block-theme"))))}o.defaultProps={demoText:__("The quick brown fox jumps over the lazy dog.","create-block-theme"),fontWeight:"normal",fontStyle:"normal"};var a=o;const{__:c}=wp.i18n;function r(o){let{fontFamily:r,fontFamilyIndex:m,deleteFontFamily:i,deleteFontFace:d,demoText:f}=o;const[s,u]=(0,t.useState)(!0),y=!!r.fontFace&&!!r.fontFace.length;return r.shouldBeRemoved?null:(0,e.createElement)("table",{className:"wp-list-table widefat table-view-list"},(0,e.createElement)("thead",null,(0,e.createElement)("td",{class:"font-family-head"},(0,e.createElement)("div",null,(0,e.createElement)("strong",null,r.name||r.fontFamily)),(0,e.createElement)("div",null,(0,e.createElement)(l.Button,{variant:"tertiary",isDestructive:!0,onClick:e=>{e.stopPropagation(),i(m)}},c("Remove Font Family","create-block-theme")),(0,e.createElement)(l.Button,{onClick:()=>{u(!s)}},(0,e.createElement)(l.Icon,{icon:s?"arrow-up-alt2":"arrow-down-alt2"}))))),(0,e.createElement)("tbody",{className:"font-family-contents"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:" slide "+(s?"open":"close")},(0,e.createElement)("table",{className:"wp-list-table widefat striped table-view-list"},(0,e.createElement)("thead",null,(0,e.createElement)("td",null,c("Style","create-block-theme")),(0,e.createElement)("td",null,c("Weight","create-block-theme")),(0,e.createElement)("td",null,c("Preview","create-block-theme")),y&&(0,e.createElement)("td",null)),(0,e.createElement)("tbody",null,y&&r.fontFace.map(((t,l)=>(0,e.createElement)(a,n({},t,{fontFamilyIndex:m,fontFaceIndex:l,demoText:f,key:`fontface${l}`,deleteFontFace:()=>d(m,l)})))),!y&&r.fontFamily&&(0,e.createElement)(a,n({},r,{demoText:f}))))))))}r.defaultProps={demoText:c("The quick brown fox jumps over the lazy dog.","create-block-theme")};var m=r;const{__:i}=wp.i18n;var d=function(){var n,o;const a=document.querySelector("#theme-fonts-json"),c=document.querySelector("#manage-fonts-form"),r=a.innerHTML,d=JSON.parse(r),[f,s]=(0,t.useState)(d),[u,y]=(0,t.useState)({fontFamilyIndex:void 0,fontFaceIndex:void 0}),[h,v]=(0,t.useState)(!1),[F,E]=(0,t.useState)(!1);(0,t.useEffect)((()=>{void 0===u.fontFamilyIndex&&void 0===u.fontFaceIndex||c.submit()}),[f]);const p=()=>{E(!F)};function b(e,t){y({fontFamilyIndex:e,fontFaceIndex:t},v(!0))}const w=f[u.fontFamilyIndex],x=null===(n=f[u.fontFamilyIndex])||void 0===n||null===(o=n.fontFace)||void 0===o?void 0:o[u.fontFaceIndex];return(0,e.createElement)(e.Fragment,null,F&&(0,e.createElement)(l.Modal,{title:(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.Icon,{icon:"info"})," ",i("Info","create-block-theme")),onRequestClose:p},(0,e.createElement)("p",null,i("This is a list of your font families listed in the theme.json file of your theme.","create-block-theme")),(0,e.createElement)("p",null,i("If your theme.json makes reference to fonts providers other than local they may not be displayed correctly.","create-block-theme"))),(0,e.createElement)("p",{class:"help"},i("These are the fonts currently embedded in your theme ","create-block-theme"),(0,e.createElement)(l.Button,{onClick:p,style:{padding:"0",height:"1rem"}},(0,e.createElement)(l.Icon,{icon:"info"}))),(0,e.createElement)("input",{type:"hidden",name:"new-theme-fonts-json",value:JSON.stringify(f)}),(0,e.createElement)(l.__experimentalConfirmDialog,{isOpen:h,onConfirm:function(){v(!1),void 0!==u.fontFamilyIndex&&void 0!==u.fontFaceIndex?function(){const{fontFamilyIndex:e,fontFaceIndex:t}=u,n=f.reduce(((n,l,o)=>{const{fontFace:a=[],...c}=l;return e===o&&1===a.filter((e=>!e.shouldBeRemoved)).length&&(c.shouldBeRemoved=!0),c.fontFace=a.map(((n,l)=>e==o&&t===l?{...n,shouldBeRemoved:!0}:n)),[...n,c]}),[]);s(n)}(u.fontFamilyIndex,u.fontFaceIndex):function(e){const t=f.map(((t,n)=>n===e?{...t,shouldBeRemoved:!0}:t));s(t)}(u.fontFamilyIndex)},onCancel:function(){y({}),v(!1)}},void 0!==(null==u?void 0:u.fontFamilyIndex)&&void 0!==(null==u?void 0:u.fontFaceIndex)?(0,e.createElement)("h3",null,i(`Are you sure you want to delete "${null==x?void 0:x.fontStyle} - ${null==x?void 0:x.fontWeight}"  variant of "${null==w?void 0:w.fontFamily}" from your theme?`,"create-block-theme")):(0,e.createElement)("h3",null,i(`Are you sure you want to delete "${null==w?void 0:w.fontFamily}" from your theme?`,"create-block-theme")),(0,e.createElement)("p",null,i("This action will delete the font definition and the font file assets from your theme.","create-block-theme"))),(0,e.createElement)("div",{className:"font-families"},f.map(((t,n)=>(0,e.createElement)(m,{fontFamily:t,fontFamilyIndex:n,key:`fontfamily${n}`,deleteFontFamily:b,deleteFontFace:b})))))};function f(){return"manage-fonts"===new URLSearchParams(document.location.search).get("page")?(0,e.createElement)(d,null):(0,e.createElement)("p",null,"Default")}window.addEventListener("load",(function(){(0,e.render)((0,e.createElement)(f,null),document.querySelector("#manage-fonts"))}),!1)}();